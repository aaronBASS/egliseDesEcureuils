<?xml version="1.0" encoding="UTF-8"?>
<krpano version="1.19">

    
  <!-- Spot Style - arrowFlatDown -->


  <style name="IconarrowFlatDown"
         url="%FIRSTXML%/spots/iconasset_7_user_defaultpoint6.png"
         visible="false"
         edge="center"
         onhover="onhoverIconarrowFlatDown"
         onover="onoverIconarrowFlatDown"
         onout="onoutIconarrowFlatDown"

         height="30"
         width="30"
         />
  <action name="onhoverIconarrowFlatDown">
    showtooltip('hotspot');
  </action>
  <action name="onoverIconarrowFlatDown">
tween(scale, 1.2);


  </action>
  <action name="onoutIconarrowFlatDown">
    hideTooltip();
    tween(scale, 1);


  </action>



    
  <!-- Spot Style - point3d -->


  <style name="Iconpoint3d"
         url="%FIRSTXML%/spots/iconasset_2_user_defaultpoint8.png"
         visible="false"
         edge="center"
         onhover="onhoverIconpoint3d"
         onover="onoverIconpoint3d"
         onout="onoutIconpoint3d"

         height="40"
         width="40"
         />
  <action name="onhoverIconpoint3d">
    showtooltip('hotspot');
  </action>
  <action name="onoverIconpoint3d">
tween(scale, 1.2);


  </action>
  <action name="onoutIconpoint3d">
    hideTooltip();
    tween(scale, 1);


  </action>



    
  <!-- Spot Style - arrowFlatLeft 1 -->


  <style name="IconarrowFlatLeft1"
         url="%FIRSTXML%/spots/iconasset_5_user_defaultpoint9.png"
         visible="false"
         edge="center"
         onhover="onhoverIconarrowFlatLeft1"
         onover="onoverIconarrowFlatLeft1"
         onout="onoutIconarrowFlatLeft1"

         height="40"
         width="40"
         />
  <action name="onhoverIconarrowFlatLeft1">
    showtooltip('hotspot');
  </action>
  <action name="onoverIconarrowFlatLeft1">
tween(scale, 1.2);


  </action>
  <action name="onoutIconarrowFlatLeft1">
    hideTooltip();
    tween(scale, 1);


  </action>



    
  <!-- Spot Style - arrowFlatUpLeft -->


  <style name="IconarrowFlatUpLeft"
         url="%FIRSTXML%/spots/iconasset_22_user_defaultpoint10.png"
         visible="false"
         edge="center"
         onhover="onhoverIconarrowFlatUpLeft"
         onover="onoverIconarrowFlatUpLeft"
         onout="onoutIconarrowFlatUpLeft"

         height="40"
         width="40"
         />
  <action name="onhoverIconarrowFlatUpLeft">
    showtooltip('hotspot');
  </action>
  <action name="onoverIconarrowFlatUpLeft">
tween(scale, 1.2);


  </action>
  <action name="onoutIconarrowFlatUpLeft">
    hideTooltip();
    tween(scale, 1);


  </action>



    
  <!-- Spot Style - arrowOrthoUp 1 -->


  <style name="IconarrowOrthoUp1"
         url="%FIRSTXML%/spots/iconasset_18_user_defaultpoint12.png"
         visible="false"
         edge="center"
         onhover="onhoverIconarrowOrthoUp1"
         onover="onoverIconarrowOrthoUp1"
         onout="onoutIconarrowOrthoUp1"

         height="40"
         width="40"
         />
  <action name="onhoverIconarrowOrthoUp1">
    showtooltip('hotspot');
  </action>
  <action name="onoverIconarrowOrthoUp1">
tween(scale, 1.2);


  </action>
  <action name="onoutIconarrowOrthoUp1">
    hideTooltip();
    tween(scale, 1);


  </action>



    
  <!-- Spot Style - arrowFlatUpRight -->


  <style name="IconarrowFlatUpRight"
         url="%FIRSTXML%/spots/iconasset_10_user_defaultpoint13.png"
         visible="false"
         edge="center"
         onhover="onhoverIconarrowFlatUpRight"
         onover="onoverIconarrowFlatUpRight"
         onout="onoutIconarrowFlatUpRight"

         height="40"
         width="40"
         />
  <action name="onhoverIconarrowFlatUpRight">
    showtooltip('hotspot');
  </action>
  <action name="onoverIconarrowFlatUpRight">
tween(scale, 1.2);


  </action>
  <action name="onoutIconarrowFlatUpRight">
    hideTooltip();
    tween(scale, 1);


  </action>



    
  <!-- Spot Style - arrowFlatUp 2 -->


  <style name="IconarrowFlatUp2"
         url="%FIRSTXML%/spots/iconasset_19_user_defaultpoint15.png"
         visible="false"
         edge="center"
         onhover="onhoverIconarrowFlatUp2"
         onover="onoverIconarrowFlatUp2"
         onout="onoutIconarrowFlatUp2"

         height="40"
         width="40"
         />
  <action name="onhoverIconarrowFlatUp2">
    showtooltip('hotspot');
  </action>
  <action name="onoverIconarrowFlatUp2">
tween(scale, 1.2);


  </action>
  <action name="onoutIconarrowFlatUp2">
    hideTooltip();
    tween(scale, 1);


  </action>



    
  <!-- Spot Style - arrowOrthoUpMED -->


  <style name="IconarrowOrthoUpMED"
         url="%FIRSTXML%/spots/iconasset_18_user_defaultpoint16.png"
         visible="false"
         edge="center"
         onhover="onhoverIconarrowOrthoUpMED"
         onover="onoverIconarrowOrthoUpMED"
         onout="onoutIconarrowOrthoUpMED"

         height="50"
         width="50"
         />
  <action name="onhoverIconarrowOrthoUpMED">
    showtooltip('hotspot');
  </action>
  <action name="onoverIconarrowOrthoUpMED">
tween(scale, 1.2);


  </action>
  <action name="onoutIconarrowOrthoUpMED">
    hideTooltip();
    tween(scale, 1);


  </action>



    
  <!-- Spot Style - Video -->


  <style name="IconVideo"
         url="%FIRSTXML%/spots/asset_25_user_defaultpoint18.png"
         visible="false"
         edge="center"
         onhover="onhoverIconVideo"
         onover="onoverIconVideo"
         onout="onoutIconVideo"

         height="40"
         width="40"
         />
  <action name="onhoverIconVideo">
    showtooltip('hotspot');
  </action>
  <action name="onoverIconVideo">
tween(scale, 1.2);


  </action>
  <action name="onoutIconVideo">
    hideTooltip();
    tween(scale, 1);


  </action>



  <!-- FLOORPLAN -->
  <action name="hideFloorplan">set(tour_displayfloorplan, false);events.dispatch(onhidetourfloorplan);</action>
  <action name="showFloorplan">set(tour_displayfloorplan, true); events.dispatch(onshowtourfloorplan);</action>


  <action name="displayWebVideo">
    if(layer[webvideodisplay_bg],

    ,
      <!-- add overlay -->
      addlayer(webvideodisplay_bg);
      set(layer[webvideodisplay_bg].type, container);
      set(layer[webvideodisplay_bg].zorder, 98);
      set(layer[webvideodisplay_bg].align, topleft);
      set(layer[webvideodisplay_bg].width, 100%);
      set(layer[webvideodisplay_bg].height, 100%);
      set(layer[webvideodisplay_bg].bgcolor, %16);
      set(layer[webvideodisplay_bg].bgalpha, %17);
      set(layer[webvideodisplay_bg].bgcapture, true);
      set(layer[webvideodisplay_bg].handcursor, false);
      set(layer[webvideodisplay_bg].alpha, 0.0);
      set(layer[webvideodisplay_bg].onclick, displayWebVideoObjectClose() );
      tween(layer[webvideodisplay_bg].alpha, 1.0, 0.5, default,


        addlayer(webvideodisplay_player);
        set(layer[webvideodisplay_player].parent, layer[webvideodisplay_bg]);
        set(layer[webvideodisplay_player].align, %13);
        set(layer[webvideodisplay_player].x, %14);
        set(layer[webvideodisplay_player].y, %15);
        set(layer[webvideodisplay_player].alpha, 0.0);
        set(layer[webvideodisplay_player].pauseautorotate, %18);
        set(layer[webvideodisplay_player].pausebgsound, %19);

        sub(maxstagewidth, get(stagewidth), %14);
        sub(maxstageheight, get(stageheight), %15);

        if('4:3' == '%3',
          div(aspect, 4, 3);
        ,
          if('2.39:1' == '%3',
            div(aspect, 2.39, 1);
          ,
            div(aspect, 16, 9);
          );
        );
        if(%9,
          if(%10 == 'pixel',
            set(new_videowidth, %9);
            div(new_videoheight, get(new_videowidth), get(aspect));
          ,
            mul(new_videowidth, get(maxstagewidth), %9);
            div(new_videowidth, 100);
            div(new_videoheight, get(new_videowidth), get(aspect));
          );
        ,
          ifnot(%11,
            set(max_videoheight, %2);
            set(new_videowidth, %1);
            set(new_videoheight, %2);
          );
        );
        if(%11,
          ifnot(%9,
            if(%12 == 'pixel',
              set(new_videoheight, %11);
              mul(new_videowidth, get(new_videoheight), get(aspect));
            ,
              mul(new_videoheight, get(maxstageheight), %11);
              div(new_videoheight, 100);
              mul(new_videowidth, get(new_videoheight), get(aspect));
            );
            set(max_videoheight, get(new_videoheight));
          ,
            if(%12 == 'pixel',
              set(max_videoheight, %11);
            ,
              mul(max_videoheight, get(maxstageheight), %11);
              div(max_videoheight, 100);
            );
          );
        ,
          set(max_videoheight, get(new_videoheight));
        );
        if(new_videowidth GT maxstagewidth,
          set(new_videowidth, get(maxstagewidth));
          div(new_videoheight, get(new_videowidth), get(aspect));
        );
        if(max_videoheight GT maxstageheight,
          set(max_videoheight, get(maxstageheight));
        );
        if(new_videoheight GT max_videoheight,
          set(new_videoheight, get(max_videoheight));
          mul(new_videowidth, get(new_videoheight), get(aspect));
        );
        roundval(new_videowidth);
        roundval(new_videoheight);
        set(layer[webvideodisplay_player].width, get(new_videowidth));
        set(layer[webvideodisplay_player].height, get(new_videoheight));

        set(tour_current_played_web_video, %8);

        if(device.html5,

          txtadd(iframecode, '[iframe width="',get(layer[webvideodisplay_player].width),'" height="',get(layer[webvideodisplay_player].height),'" src="','%4','%8','?','%6','" frameborder="0" allowfullscreen][/iframe]');
          set(layer[webvideodisplay_player].html, get(iframecode));
          set(layer[webvideodisplay_player].padding, 0);
          set(layer[webvideodisplay_player].type, 'text');
          set(layer[webvideodisplay_player].onloaded, displayWebVideoObjectReady() );
        ,

          txtadd(embedurl, '%5','%8','%7');
          set(layer[webvideodisplay_player].onloaded, registercontentsize(%1,%2);displayWebVideoObjectReady(); );
          set(layer[webvideodisplay_player].url, get(embedurl));
        );
      );
    );
  </action>
  <action name="displayWebVideoObjectReady">
    if(layer[webvideodisplay_player],
      set(layer[webvideodisplay_player].currentCall, true);
      events.dispatch(onremovedisplayedobject);
      tween(layer[webvideodisplay_player].alpha, 1.0, default, default,
        if(layer[webvideodisplay_player].pauseautorotate,pauseautorotation(forcehotspot);
);
      );
    );
  </action>
  <action name="displayWebVideoObjectClose">
    if(layer[webvideodisplay_player],
      if(layer[webvideodisplay_player].currentCall,
        set(layer[webvideodisplay_player].currentCall, false);
      ,
        set(layer[webvideodisplay_bg].onclick, null);
        delete(tour_current_played_web_video);
        tween(layer[webvideodisplay_player].alpha, 0.0, 0.25, default);
        tween(layer[webvideodisplay_bg].alpha,0.0, 0.50, default,
          if(layer[webvideodisplay_player].pauseautorotate,resumeautorotation(forcehotspot);
);
          removelayer(webvideodisplay_bg);
          removelayer(webvideodisplay_player);
        );
      );
    );
  </action>
  <events name="displayWebVideoObjectEvents" keep="true" onremovedisplayedobject="displayWebVideoObjectClose();"/>

  <!-- Tour Information -->
  <action name="hideTourInfo">set(tour_displayinfo, false);events.dispatch(onhidetourinfo);</action>
  <action name="showTourInfo">set(tour_displayinfo, true); events.dispatch(onshowtourinfo);</action>


</krpano>